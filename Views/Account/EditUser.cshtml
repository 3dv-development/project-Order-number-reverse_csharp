@model ProjectOrderNumberSystem.Models.Employee
@{
    ViewData["Title"] = "ユーザー情報編集";
}

<h2>ユーザー情報編集</h2>
<p class="text-muted">ユーザーの氏名とメールアドレスを編集できます</p>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

<div class="card">
    <div class="card-body">
        <form method="post" asp-action="EditUser">
            <input type="hidden" name="employeeId" value="@Model.EmployeeId" />

            <div class="mb-3">
                <label for="employeeId" class="form-label">社員番号</label>
                <input type="text" class="form-control" id="employeeIdDisplay" value="@Model.EmployeeId" disabled>
                <div class="form-text">社員番号は変更できません</div>
            </div>

            <div class="mb-3">
                <label for="name" class="form-label">氏名 <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="name" name="name" value="@Model.Name" required placeholder="例: 山田太郎">
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">メールアドレス</label>
                <input type="email" class="form-control" id="email" name="email" value="@Model.Email" placeholder="例: yamada@example.com">
                <div class="form-text">任意項目です</div>
            </div>

            <div class="mb-3">
                <label class="form-label">権限</label>
                <div>
                    @if (Model.Role == "admin")
                    {
                        <span class="badge bg-danger">管理者</span>
                    }
                    else
                    {
                        <span class="badge bg-primary">一般ユーザー</span>
                    }
                </div>
                <div class="form-text">権限変更はユーザー一覧画面から行ってください</div>
            </div>

            <div class="mb-3">
                <label class="form-label">状態</label>
                <div>
                    @if (Model.IsActive)
                    {
                        <span class="badge bg-success">有効</span>
                    }
                    else
                    {
                        <span class="badge bg-secondary">無効</span>
                    }
                </div>
                <div class="form-text">有効/無効切り替えはユーザー一覧画面から行ってください</div>
            </div>

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">更新</button>
                <a href="/Account/UserList" class="btn btn-secondary">キャンセル</a>
            </div>
        </form>
    </div>
</div>

<div class="mt-4">
    <h5>注意事項</h5>
    <ul>
        <li>社員番号は変更できません</li>
        <li>氏名は必須項目です</li>
        <li>権限と状態の変更はユーザー一覧画面から行ってください</li>
    </ul>
</div>
